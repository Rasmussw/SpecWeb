import { POSITIVE_VALIDATION_RESULT } from '../rule';
export const useOfflineScopeWithSilentRenew = (passedConfig) => {
    const hasRefreshToken = passedConfig.useRefreshToken;
    const hasSilentRenew = passedConfig.silentRenew;
    const scope = passedConfig.scope || '';
    const hasOfflineScope = scope.split(' ').includes('offline_access');
    if (hasRefreshToken && hasSilentRenew && !hasOfflineScope) {
        return {
            result: false,
            messages: [
                'When using silent renew and refresh tokens please set the `offline_access` scope',
            ],
            level: 'warning',
        };
    }
    return POSITIVE_VALIDATION_RESULT;
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLW9mZmxpbmUtc2NvcGUtd2l0aC1zaWxlbnQtcmVuZXcucnVsZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2FuZ3VsYXItYXV0aC1vaWRjLWNsaWVudC9zcmMvbGliL2NvbmZpZy92YWxpZGF0aW9uL3J1bGVzL3VzZS1vZmZsaW5lLXNjb3BlLXdpdGgtc2lsZW50LXJlbmV3LnJ1bGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLDBCQUEwQixFQUF3QixNQUFNLFNBQVMsQ0FBQztBQUUzRSxNQUFNLENBQUMsTUFBTSw4QkFBOEIsR0FBRyxDQUM1QyxZQUFpQyxFQUNYLEVBQUU7SUFDeEIsTUFBTSxlQUFlLEdBQUcsWUFBWSxDQUFDLGVBQWUsQ0FBQztJQUNyRCxNQUFNLGNBQWMsR0FBRyxZQUFZLENBQUMsV0FBVyxDQUFDO0lBQ2hELE1BQU0sS0FBSyxHQUFHLFlBQVksQ0FBQyxLQUFLLElBQUksRUFBRSxDQUFDO0lBQ3ZDLE1BQU0sZUFBZSxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsUUFBUSxDQUFDLGdCQUFnQixDQUFDLENBQUM7SUFFcEUsSUFBSSxlQUFlLElBQUksY0FBYyxJQUFJLENBQUMsZUFBZSxFQUFFO1FBQ3pELE9BQU87WUFDTCxNQUFNLEVBQUUsS0FBSztZQUNiLFFBQVEsRUFBRTtnQkFDUixrRkFBa0Y7YUFDbkY7WUFDRCxLQUFLLEVBQUUsU0FBUztTQUNqQixDQUFDO0tBQ0g7SUFFRCxPQUFPLDBCQUEwQixDQUFDO0FBQ3BDLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE9wZW5JZENvbmZpZ3VyYXRpb24gfSBmcm9tICcuLi8uLi9vcGVuaWQtY29uZmlndXJhdGlvbic7XHJcbmltcG9ydCB7IFBPU0lUSVZFX1ZBTElEQVRJT05fUkVTVUxULCBSdWxlVmFsaWRhdGlvblJlc3VsdCB9IGZyb20gJy4uL3J1bGUnO1xyXG5cclxuZXhwb3J0IGNvbnN0IHVzZU9mZmxpbmVTY29wZVdpdGhTaWxlbnRSZW5ldyA9IChcclxuICBwYXNzZWRDb25maWc6IE9wZW5JZENvbmZpZ3VyYXRpb25cclxuKTogUnVsZVZhbGlkYXRpb25SZXN1bHQgPT4ge1xyXG4gIGNvbnN0IGhhc1JlZnJlc2hUb2tlbiA9IHBhc3NlZENvbmZpZy51c2VSZWZyZXNoVG9rZW47XHJcbiAgY29uc3QgaGFzU2lsZW50UmVuZXcgPSBwYXNzZWRDb25maWcuc2lsZW50UmVuZXc7XHJcbiAgY29uc3Qgc2NvcGUgPSBwYXNzZWRDb25maWcuc2NvcGUgfHwgJyc7XHJcbiAgY29uc3QgaGFzT2ZmbGluZVNjb3BlID0gc2NvcGUuc3BsaXQoJyAnKS5pbmNsdWRlcygnb2ZmbGluZV9hY2Nlc3MnKTtcclxuXHJcbiAgaWYgKGhhc1JlZnJlc2hUb2tlbiAmJiBoYXNTaWxlbnRSZW5ldyAmJiAhaGFzT2ZmbGluZVNjb3BlKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByZXN1bHQ6IGZhbHNlLFxyXG4gICAgICBtZXNzYWdlczogW1xyXG4gICAgICAgICdXaGVuIHVzaW5nIHNpbGVudCByZW5ldyBhbmQgcmVmcmVzaCB0b2tlbnMgcGxlYXNlIHNldCB0aGUgYG9mZmxpbmVfYWNjZXNzYCBzY29wZScsXHJcbiAgICAgIF0sXHJcbiAgICAgIGxldmVsOiAnd2FybmluZycsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIFBPU0lUSVZFX1ZBTElEQVRJT05fUkVTVUxUO1xyXG59O1xyXG4iXX0=